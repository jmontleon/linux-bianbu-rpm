From e83b2c3a3698fa76f1749b8b6b3577fac3700261 Mon Sep 17 00:00:00 2001
From: Nell <xianbin.zhu@spacemit.com>
Date: Tue, 29 Oct 2024 16:13:04 +0800
Subject: [PATCH 1346/1448] k1:pwm: support suspend to disk

Change-Id: Ic33b14450593fad10bdc8d23371a3d457c299c76
---
 drivers/pwm/pwm-pxa.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/pwm/pwm-pxa.c b/drivers/pwm/pwm-pxa.c
index 6567be8fa88a..64a82dca133f 100644
--- a/drivers/pwm/pwm-pxa.c
+++ b/drivers/pwm/pwm-pxa.c
@@ -278,8 +278,8 @@ static int pxa_pwm_resume_noirq(struct device *dev)
 #endif
 
 static const struct dev_pm_ops pxa_pwm_pm_qos = {
-	.suspend_noirq = pxa_pwm_suspend_noirq,
-	.resume_noirq = pxa_pwm_resume_noirq,
+	SET_NOIRQ_SYSTEM_SLEEP_PM_OPS(pxa_pwm_suspend_noirq,
+			pxa_pwm_resume_noirq)
 };
 
 static struct platform_driver pwm_driver = {
-- 
2.47.0

