From bcc82fe0faee03bb61dfaf2e8dd4fa92e7c85284 Mon Sep 17 00:00:00 2001
From: zhangmeng <zhangmeng.kevin@spacemit.com>
Date: Tue, 10 Dec 2024 19:37:30 +0800
Subject: [PATCH 1345/1448] pwm_bl: modify the pwm_bl to support hibernation

Change-Id: Id4c3411601c3a43399dd211efcb9e3805559d26d
---
 drivers/video/backlight/pwm_bl.c | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/drivers/video/backlight/pwm_bl.c b/drivers/video/backlight/pwm_bl.c
index 35c716e9043c..04831959a270 100644
--- a/drivers/video/backlight/pwm_bl.c
+++ b/drivers/video/backlight/pwm_bl.c
@@ -693,10 +693,7 @@ static int pwm_backlight_resume(struct device *dev)
 
 static const struct dev_pm_ops pwm_backlight_pm_ops = {
 #ifdef CONFIG_PM_SLEEP
-	.suspend = pwm_backlight_suspend,
-	.resume = pwm_backlight_resume,
-	.poweroff = pwm_backlight_suspend,
-	.restore = pwm_backlight_resume,
+	SET_SYSTEM_SLEEP_PM_OPS(pwm_backlight_suspend, pwm_backlight_resume)
 #endif
 };
 
-- 
2.47.0

