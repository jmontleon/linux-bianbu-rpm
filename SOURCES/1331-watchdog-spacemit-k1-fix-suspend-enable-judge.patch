From 1303eb8500b20547bf913eddf22d447135da44af Mon Sep 17 00:00:00 2001
From: yanhaodong <haodong.yan@spacemit.com>
Date: Tue, 3 Dec 2024 10:49:46 +0800
Subject: [PATCH 1331/1448] watchdog: spacemit/k1: fix suspend enable judge

Change-Id: I1fdcdc15239ba0ad0da38470a71e5667c704aac7
---
 drivers/watchdog/k1x_wdt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/watchdog/k1x_wdt.c b/drivers/watchdog/k1x_wdt.c
index 1a09822c8ac4..67195e5971cb 100644
--- a/drivers/watchdog/k1x_wdt.c
+++ b/drivers/watchdog/k1x_wdt.c
@@ -773,7 +773,7 @@ static int spa_wdt_suspend(struct platform_device *pdev, pm_message_t state)
 		goto exit;
 	}
 
-	if(spa_wdt_read(info, WDT_WMER)|0x1) {
+	if(spa_wdt_read(info, WDT_WMER) & 0x1) {
 		spa_wdt_stop(&info->wdt_dev);
 		info->enable_to_suspend = true;
 	}
-- 
2.47.0

