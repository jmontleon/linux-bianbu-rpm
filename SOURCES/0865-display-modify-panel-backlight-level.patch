From eadc227587ba39a02d2ef54961b4bd139740c208 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E2=80=9Clilijun=E2=80=9D?= <“lijun.li@spacemit.com”>
Date: Wed, 31 Jul 2024 16:29:08 +0800
Subject: [PATCH 0865/1206] display: modify panel backlight level

Change-Id: I98e724b69678a688bd56d20622f9ff38f4aa65de
---
 .../boot/dts/spacemit/k1-x_MUSE-Paper.dts     | 48 ++++++++++++-------
 1 file changed, 31 insertions(+), 17 deletions(-)

diff --git a/arch/riscv/boot/dts/spacemit/k1-x_MUSE-Paper.dts b/arch/riscv/boot/dts/spacemit/k1-x_MUSE-Paper.dts
index ecec756d1645..f277b12ec0ab 100644
--- a/arch/riscv/boot/dts/spacemit/k1-x_MUSE-Paper.dts
+++ b/arch/riscv/boot/dts/spacemit/k1-x_MUSE-Paper.dts
@@ -258,6 +258,7 @@ &i2c4 {
 	status = "disabled";
 };
 
+
 &i2c5 {
         pinctrl-names = "default";
         pinctrl-0 = <&pinctrl_i2c5_0>;
@@ -269,6 +270,19 @@ icm42607@68 {
         };
 };
 
+&i2c6 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_i2c6_0>;
+	clock-frequency = <100000>;
+	status = "okay";
+
+	ocp2138@3e {
+		compatible = "spacemit,lcd_bias_ocp2138";
+		reg = <0x3e>;
+		status = "okay";
+	};
+};
+
 &i2c8 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_i2c8>;
@@ -696,24 +710,24 @@ flash@0 {
 &pwm_bl {
 	pwms = <&pwm14 2000>;
 	brightness-levels = <
-		0   64  64  64  64  65  65  65  65  66  66  66  66  67  67  68
-		68  69  69  70  70  71  71  72  72  73  73  74  74  75  75  76
-		76  77  78  79  80  80  81  82  83  84  84  85  86  87  88  88
-		89  90  91  92  92  93  94  95  96  96  97  98  99  100 100 101
-		102 103 104 104 105 106 107 108 108 109 110 111 112 112 113 114
-		115 116 116 117 118 119 120 120 121 122 123 124 124 125 126 127
-		128 128 129 130 131 132 132 133 134 135 136 136 137 138 139 140
-		140 141 142 143 144 144 145 146 147 148 148 149 150 151 152 152
-		153 154 155 156 156 157 158 159 160 160 161 162 163 164 164 165
-		166 167 168 168 169 170 171 172 172 173 174 175 176 176 177 178
-		179 180 180 181 182 183 184 184 185 186 187 188 188 189 190 191
-		192 192 193 194 195 196 196 197 198 199 200 200 201 202 203 204
-		204 205 206 207 208 208 209 210 211 212 212 213 214 215 216 216
-		217 218 219 220 220 221 222 223 224 224 225 226 227 228 228 229
-		230 231 232 232 233 234 235 236 236 237 238 239 240 240 241 242
-		243 244 244 245 246 247 248 248 249 250 251 252 252 253 254 255
+		0   20  20  20  21  21  21  22  22  22  23  23  23  24  24  24
+		25  25  25  26  26  26  27  27  27  28  28  29  29  30  30  31
+		32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
+		48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
+		64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
+		80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
+		96  97  98  99  100 101 102 103 104 105 106 107 108 109 110 111
+		112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
+		128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143
+		144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159
+		160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175
+		176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191
+		192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207
+		208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223
+		224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239
+		240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255
 	>;
-	default-brightness-level = <128>;
+	default-brightness-level = <100>;
 
 	status = "okay";
 };
-- 
2.47.0

