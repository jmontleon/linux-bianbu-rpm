From 1a591c5eed072d703a5f51462c8b1076131ae8f9 Mon Sep 17 00:00:00 2001
From: Pan Junzhong <junzhong.pan@spacemit.com>
Date: Wed, 22 May 2024 11:27:04 +0800
Subject: [PATCH 0751/1448] k1: usb: setup phy in dwc3-spacemit instead of dwc3

Change-Id: I61bd504159dda16d32fc1bf4010f4b26fbcc82cd
---
 arch/riscv/boot/dts/spacemit/k1-x.dtsi | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/riscv/boot/dts/spacemit/k1-x.dtsi b/arch/riscv/boot/dts/spacemit/k1-x.dtsi
index a57e43b58e2c..cc719afea15f 100644
--- a/arch/riscv/boot/dts/spacemit/k1-x.dtsi
+++ b/arch/riscv/boot/dts/spacemit/k1-x.dtsi
@@ -1873,6 +1873,9 @@ usbdrd3: usb3@0 {
 			reset-names = "ctl_rst";
 			clocks = <&ccu CLK_USB30>;
 			clock-names = "usbdrd30";
+			phys = <&combphy PHY_TYPE_USB3>;
+			phy-names = "usb3-phy";
+			usb-phy = <&usb2phy>;
 			interrupt-parent = <&intc>;
 			interrupts = <149>;
 			ranges;
@@ -1885,9 +1888,6 @@ dwc3@c0a00000 {
 				reg = <0x0 0xc0a00000 0x0 0x10000>;
 				interrupt-parent = <&intc>;
 				interrupts = <125>;
-				phys = <&combphy PHY_TYPE_USB3>;
-				phy-names = "usb3-phy";
-				usb-phy = <&usb2phy>;
 			};
 		};
 
-- 
2.47.0

