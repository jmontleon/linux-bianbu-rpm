From e4a8036742e644906f772a8b0a0bf171a45cbe1c Mon Sep 17 00:00:00 2001
From: zhangmeng <zhangmeng.kevin@spacemit.com>
Date: Thu, 5 Dec 2024 21:32:05 +0800
Subject: [PATCH 1177/1204] riscv: k1/kconfig: update kernel configuration

Change-Id: I30fa52294289c51aa552430a8acba77a94b9b313
---
 arch/riscv/configs/k1_defconfig | 36 +++++++++++++++++++++++++++++----
 1 file changed, 32 insertions(+), 4 deletions(-)

diff --git a/arch/riscv/configs/k1_defconfig b/arch/riscv/configs/k1_defconfig
index 97c25485c285..4864dbcbf181 100644
--- a/arch/riscv/configs/k1_defconfig
+++ b/arch/riscv/configs/k1_defconfig
@@ -35,7 +35,6 @@ CONFIG_USER_NS=y
 CONFIG_CHECKPOINT_RESTORE=y
 CONFIG_SCHED_AUTOGROUP=y
 CONFIG_RELAY=y
-CONFIG_INITRAMFS_SOURCE="rootfs.cpio.gz"
 # CONFIG_RD_BZIP2 is not set
 # CONFIG_RD_LZMA is not set
 # CONFIG_RD_XZ is not set
@@ -486,6 +485,7 @@ CONFIG_BT_HCIUART_RTL=y
 CONFIG_AF_KCM=m
 CONFIG_MCTP=y
 CONFIG_CFG80211=y
+CONFIG_MAC80211=y
 CONFIG_RFKILL=y
 CONFIG_NET_IFE=m
 CONFIG_PCI=y
@@ -506,6 +506,7 @@ CONFIG_VIRTIO_BLK=y
 CONFIG_BLK_DEV_NVME=y
 CONFIG_NVME_VERBOSE_ERRORS=y
 CONFIG_SRAM=y
+CONFIG_EEPROM_AT24=y
 CONFIG_BLK_DEV_SD=y
 # CONFIG_BLK_DEV_BSG is not set
 # CONFIG_SCSI_LOWLEVEL is not set
@@ -650,19 +651,22 @@ CONFIG_USB_NET_QMI_WWAN=m
 # CONFIG_WLAN_VENDOR_MICROCHIP is not set
 # CONFIG_WLAN_VENDOR_PURELIFI is not set
 # CONFIG_WLAN_VENDOR_RALINK is not set
+CONFIG_RTW89=y
+CONFIG_RTW89_8852BE=m
+CONFIG_RTL8852BS=m
 # CONFIG_WLAN_VENDOR_RSI is not set
 # CONFIG_WLAN_VENDOR_SILABS is not set
 # CONFIG_WLAN_VENDOR_ST is not set
 # CONFIG_WLAN_VENDOR_TI is not set
 # CONFIG_WLAN_VENDOR_ZYDAS is not set
 # CONFIG_WLAN_VENDOR_QUANTENNA is not set
-CONFIG_AIC_WLAN_SUPPORT=y
 CONFIG_INPUT_EVDEV=y
 CONFIG_KEYBOARD_GPIO=y
 # CONFIG_INPUT_MOUSE is not set
 CONFIG_INPUT_TOUCHSCREEN=y
 CONFIG_INPUT_MISC=y
 CONFIG_INPUT_UINPUT=y
+CONFIG_INPUT_SPACEMIT_POWERKEY=y
 CONFIG_HALL_SENSOR_AS1911=y
 CONFIG_SERIAL_EARLYCON_RISCV_SBI=y
 CONFIG_SERIAL_PXA=y
@@ -673,7 +677,13 @@ CONFIG_VIRTIO_CONSOLE=y
 # CONFIG_HW_RANDOM is not set
 CONFIG_I2C_CHARDEV=y
 CONFIG_I2C_SPACEMIT_K1X=y
+CONFIG_SPI=y
+CONFIG_SPI_MEM=y
+CONFIG_SPI_K1X=y
+CONFIG_SPI_K1X_QSPI=y
+CONFIG_PTP_1588_CLOCK_IDTCM=y
 CONFIG_PINCTRL=y
+CONFIG_PINCTRL_SPACEMIT_PMIC=y
 CONFIG_PINCTRL_SINGLE=y
 CONFIG_GPIO_SYSFS=y
 CONFIG_GPIO_K1X=y
@@ -699,13 +709,16 @@ CONFIG_MEDIA_SUPPORT=y
 CONFIG_MEDIA_USB_SUPPORT=y
 CONFIG_USB_VIDEO_CLASS=y
 # CONFIG_RADIO_ADAPTERS is not set
+CONFIG_VIDEO_LINLON_K1X=y
 CONFIG_DRM=y
+CONFIG_DRM_RADEON=m
+CONFIG_DRM_RADEON_USERPTR=y
 CONFIG_DRM_SPACEMIT=y
 CONFIG_SPACEMIT_MIPI_PANEL=y
 CONFIG_SPACEMIT_HDMI=y
 CONFIG_POWERVR_ROGUE=m
 CONFIG_FB=y
-# CONFIG_FRAMEBUFFER_CONSOLE is not set
+CONFIG_BACKLIGHT_PWM=y
 CONFIG_SOUND=y
 CONFIG_SND=y
 CONFIG_SND_SOC=y
@@ -722,6 +735,7 @@ CONFIG_SND_SIMPLE_CARD=y
 CONFIG_UHID=y
 CONFIG_HID_MULTITOUCH=y
 CONFIG_USB_HIDDEV=y
+CONFIG_I2C_HID_OF=y
 CONFIG_USB_CONN_GPIO=y
 CONFIG_USB=y
 CONFIG_USB_OTG=y
@@ -821,6 +835,7 @@ CONFIG_LEDS_TRIGGER_ONESHOT=y
 CONFIG_LEDS_TRIGGER_HEARTBEAT=y
 CONFIG_LEDS_TRIGGER_BACKLIGHT=y
 CONFIG_RTC_CLASS=y
+CONFIG_RTC_DRV_SPT_PMIC=y
 CONFIG_RTC_DRV_SA1100=y
 CONFIG_DMADEVICES=y
 CONFIG_MMP_PDMA_DRIVER=y
@@ -830,6 +845,7 @@ CONFIG_USERSPACE_DMA=y
 # CONFIG_SH_DMAE_BASE is not set
 # CONFIG_TI_EDMA is not set
 # CONFIG_DMA_OMAP is not set
+CONFIG_SW_SYNC=y
 CONFIG_UDMABUF=y
 CONFIG_DMABUF_HEAPS=y
 CONFIG_DMABUF_HEAPS_SYSTEM=y
@@ -853,13 +869,16 @@ CONFIG_SPACEMI_K1X_DMA_RANGE=y
 CONFIG_SPACEMI_SOCINFO=y
 CONFIG_SPACEMIT_DDRBW=y
 CONFIG_CHIP_MEDIA_JPU=y
-# CONFIG_SPACEMIT_V2D is not set
+CONFIG_SPACEMIT_V2D=y
 CONFIG_SPACEMIT_RFKILL=y
 # CONFIG_ARM_SCMI_POWER_DOMAIN is not set
 # CONFIG_ARM_SCPI_POWER_DOMAIN is not set
 CONFIG_EXTCON_USB_K1XCI=y
 CONFIG_EXTCON_USB_GPIO=y
 CONFIG_IIO=y
+CONFIG_IIO_BUFFER=y
+CONFIG_IIO_TRIGGERED_BUFFER=y
+CONFIG_SPACEMIT_P1_ADC=y
 CONFIG_PWM=y
 CONFIG_PWM_PXA=y
 # CONFIG_RESET_RASPBERRYPI is not set
@@ -901,6 +920,9 @@ CONFIG_CUSE=m
 CONFIG_VIRTIO_FS=m
 CONFIG_OVERLAY_FS=m
 CONFIG_OVERLAY_FS_XINO_AUTO=y
+CONFIG_NETFS_STATS=y
+CONFIG_FSCACHE=y
+CONFIG_CACHEFILES=m
 CONFIG_ISO9660_FS=m
 CONFIG_JOLIET=y
 CONFIG_ZISOFS=y
@@ -960,6 +982,7 @@ CONFIG_EROFS_FS=m
 CONFIG_EROFS_FS_PCPU_KTHREAD=y
 # CONFIG_EROFS_FS_PCPU_KTHREAD_HIPRI is not set
 CONFIG_NFS_FS=y
+CONFIG_NFS_V2=y
 CONFIG_NFS_V4=y
 CONFIG_NFS_V4_1=y
 CONFIG_NFS_V4_2=y
@@ -973,6 +996,7 @@ CONFIG_NFSD_FLEXFILELAYOUT=y
 CONFIG_NFSD_V4_2_INTER_SSC=y
 CONFIG_SUNRPC_DEBUG=y
 CONFIG_CEPH_FS=m
+CONFIG_CEPH_FSCACHE=y
 CONFIG_CEPH_FS_POSIX_ACL=y
 CONFIG_CIFS=y
 CONFIG_CIFS_UPCALL=y
@@ -985,6 +1009,7 @@ CONFIG_SMB_SERVER=m
 CONFIG_SMB_SERVER_KERBEROS5=y
 CONFIG_CODA_FS=m
 CONFIG_AFS_FS=m
+CONFIG_AFS_FSCACHE=y
 CONFIG_NLS_DEFAULT="utf8"
 CONFIG_NLS_CODEPAGE_437=y
 CONFIG_NLS_CODEPAGE_737=m
@@ -1052,6 +1077,7 @@ CONFIG_IMA_APPRAISE_MODSIG=y
 CONFIG_DEFAULT_SECURITY_DAC=y
 CONFIG_LSM="landlock,integrity,apparmor"
 CONFIG_INIT_STACK_NONE=y
+CONFIG_RANDSTRUCT_NONE=y
 CONFIG_CRYPTO_USER=m
 CONFIG_CRYPTO_PCRYPT=m
 CONFIG_CRYPTO_CRYPTD=m
@@ -1094,6 +1120,8 @@ CONFIG_CRYPTO_USER_API_SKCIPHER=m
 CONFIG_CRYPTO_USER_API_RNG=m
 CONFIG_CRYPTO_USER_API_AEAD=m
 # CONFIG_CRYPTO_USER_API_ENABLE_OBSOLETE is not set
+CONFIG_SPACEMIT_REE_ENGINE=y
+CONFIG_SPACEMIT_REE_AES=y
 CONFIG_CORDIC=m
 CONFIG_DMA_CMA=y
 CONFIG_IRQ_POLL=y
-- 
2.47.0

